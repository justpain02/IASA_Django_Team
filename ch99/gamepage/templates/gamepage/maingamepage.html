
<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>HTML Layouts</title>
  <style>


    section {
      background-color: white;
      width: 65%;
      height: 560px;
      float: right;

    }

    article1 {

      background-color: mediumspringgreen;
      width: 100%;
      height: 280px;
      float: right;


    }

    article2 {
      
      background-color: mediumspringgreen;
      width: 100%;
      height: 280px;
      margin-left: -(width의 1/2)px; margin-top: -(height의 1/2)px;

    }


    nav {
      background-color: white;
      color:white;
      width: 35%;
      height: 560px;
      float: left;
    }

    nav,section,aside {text-align: center;}
    article1,article2 {line-height: 100px;}
    nav,section {line-height: 240px;}


  </style>
  
</head>
{% load static %}
<head>
  <title>Button Test</title>
  <style>
  #test_btn1{ width: 6.5% ; height: 40px; margin-right:2px; margin-left:2px; border-top-left-radius: 5px; border-bottom-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px;  -webkit-transition-duration: 0.4s; /* Safari */  transition-duration: 0.4s; }
  #btn_group button{ border: 1px solid blue; background-color: rgba(0,0,0,0); color: skyblue; padding: 5px; }
  #btn_group button:hover{ color:blue; background-color: mediumspringgreen; }
  
  
  </style>
 </head>
{% block content %}
<body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  <!--누구누구 님의 게임 한거-->
  <div>{{object.id}}번 방</div>
  <div>{{object.leader_name}}님의 게임</div>



  <nav>
      {% if object.hangman_status == 1 %}
      <img src="{% static 'hangman/images/hangman 1.png' %}"  alt="행맨 테스트 이미지" width=90%>
      {% elif object.hangman_status == 2 %}
      <img src="{% static 'hangman/images/hangman 2.png' %}"  alt="행맨 테스트 이미지" width=90%>
      {% elif object.hangman_status == 3 %}
      <img src="{% static 'hangman/images/hangman 3.png' %}"  alt="행맨 테스트 이미지" width=90%>
      {% elif object.hangman_status == 4 %}
      <img src="{% static 'hangman/images/hangman 4.png' %}"  alt="행맨 테스트 이미지" width=90%>
      {% elif object.hangman_status == 5 %}
      <img src="{% static 'hangman/images/hangman 5.png' %}"  alt="행맨 테스트 이미지" width=90%>
      {% elif object.hangman_status == 6 %}
      <img src="{% static 'hangman/images/hangman 6.png' %}"  alt="행맨 테스트 이미지" width=90%>
      {% elif object.hangman_status == 7 %}
      <img src="{% static 'hangman/images/hangman 7.png' %}"  alt="행맨 테스트 이미지" width=90%>
      {% elif object.hangman_status == 8 %}
      <img src="{% static 'hangman/images/hangman 8.png' %}"  alt="행맨 테스트 이미지" width=90%>
      {% elif object.hangman_status == 9 %}
      <img src="{% static 'hangman/images/hangman 9.png' %}"  alt="행맨 테스트 이미지" width=90%>
      {% elif object.hangman_status == 10 %}
      <img src="{% static 'hangman/images/hangman 10.png' %}"  alt="행맨 테스트 이미지" width=90%>
      {% elif object.hangman_status == 11 %}
      <img src="{% static 'hangman/images/hangman 11.png' %}"  alt="행맨 테스트 이미지" width=90%>
      {% endif %}
   
  </nav>

  <section>
    <article1>

      <h2 id="answer_text">정답 칸</h2>
    </article1>

    <article2>
      
    <div id="btn_group">
      {% if not object.button_status.a %}
        <button id="test_btn1" class="btnAjax_a" value="a">a</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_a" value="a" disabled>a</button>
      {% endif %}

      {% if not object.button_status.b %}
        <button id="test_btn1" class="btnAjax_b" value="b">b</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_b" value="b" disabled>b</button>
      {% endif %}
      
      {% if not object.button_status.c %}
        <button id="test_btn1" class="btnAjax_c" value="c">c</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_c" value="c" disabled>c</button>
      {% endif %}
      
      {% if not object.button_status.d %}
        <button id="test_btn1" class="btnAjax_d" value="d">d</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_d" value="d" disabled>d</button>
      {% endif %}
      
      {% if not object.button_status.e %}
        <button id="test_btn1" class="btnAjax_e" value="e">e</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_e" value="e" disabled>e</button>
      {% endif %}
      
      {% if not object.button_status.f %}
        <button id="test_btn1" class="btnAjax_f" value="f">f</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_f" value="f" disabled>f</button>
      {% endif %}
      
      {% if not object.button_status.g %}
        <button id="test_btn1" class="btnAjax_g" value="g">g</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_g" value="g">g</button>
      {% endif %}
      
      {% if not object.button_status.h %}
        <button id="test_btn1" class="btnAjax_h" value="h">h</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_h" value="h" disabled>h</button>
      {% endif %}
      
      {% if not object.button_status.i %}
        <button id="test_btn1" class="btnAjax_i" value="i">i</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_i" value="i" disabled>i</button>
      {% endif %}
      
      {% if not object.button_status.j %}
      {% else %}
      {% endif %}
      <button id="test_btn1" class="btnAjax_j" value="j">j</button>
      
      {% if not object.button_status.k %}
        <button id="test_btn1" class="btnAjax_k" value="k">k</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_k" value="k" disabled>k</button>
      {% endif %}

      {% if not object.button_status.l %}
        <button id="test_btn1" class="btnAjax_l" value="l">l</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_l" value="l" disabled>l</button>
      {% endif %}
      
      {% if not object.button_status.m %}
        <button id="test_btn1" class="btnAjax_m" value="m">m</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_m" value="m" disabled>m</button>
      {% endif %}
      
      {% if not object.button_status.n %}
        <button id="test_btn1" class="btnAjax_n" value="n">n</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_n" value="n" disabled>n</button>
      {% endif %}

      {% if not object.button_status.o %}
        <button id="test_btn1" class="btnAjax_o" value="o">o</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_o" value="o" disabled>o</button>
      {% endif %}

      {% if not object.button_status.p %}
        <button id="test_btn1" class="btnAjax_p" value="p">p</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_p" value="p" disabled>p</button>
      {% endif %}
      
      {% if not object.button_status.q %}
      <button id="test_btn1" class="btnAjax_q" value="q">q</button>
      {% else %}
      <button id="test_btn1" class="btnAjax_q" value="q" disabled>q</button>
      {% endif %}
      
      {% if not object.button_status.r %}
        <button id="test_btn1" class="btnAjax_r" value="r">r</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_r" value="r" disabled>r</button>
      {% endif %}
      
      {% if not object.button_status.s %}
      <button id="test_btn1" class="btnAjax_s" value="s">s</button>
      {% else %}
      <button id="test_btn1" class="btnAjax_s" value="s" disabled>s</button>
      {% endif %}
      
      {% if not object.button_status.t %}
        <button id="test_btn1" class="btnAjax_t" value="t">t</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_t" value="t" disabled>t</button>
      {% endif %}
      
      {% if not object.button_status.u %}
        <button id="test_btn1" class="btnAjax_u" value="u">u</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_u" value="u" disabled>u</button>
      {% endif %}
      
      {% if not object.button_status.v %}
        <button id="test_btn1" class="btnAjax_v" value="v">v</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_v" value="v" disabled>v</button>
      {% endif %}
      
      {% if not object.button_status.w %}
        <button id="test_btn1" class="btnAjax_w" value="w">w</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_w" value="w" disabled>w</button>
      {% endif %}
      
      {% if not object.button_status.x %}
        <button id="test_btn1" class="btnAjax_x" value="x">x</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_x" value="x" disabled>x</button>
      {% endif %}
      
      {% if not object.button_status.y %}
        <button id="test_btn1" class="btnAjax_y" value="y">y</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_y" value="y" disabled>y</button>
      {% endif %}
      
      {% if not object.button_status.z %}
        <button id="test_btn1" class="btnAjax_z" value="z">z</button>
      {% else %}
        <button id="test_btn1" class="btnAjax_z" value="z" disabled>z</button>
      {% endif %}
      
    </div>  
    </article2>
  현재 인원수:
  {{object.people_num.all.count}}
  <a href="{% url 'join' Game_id=object.id %}">
    {% if user in object.people_num.all %}
    <i class="fas fa-heart">나가기</i>
    {% else %}
    <i class="far fa-heart">참여하기</i>
    {% endif %}
  </a>


  </section>  



</body>
{% endblock %}
<script>

  let btnAjax_a = document.querySelector('.btnAjax_a');
  let btnAjax_b = document.querySelector('.btnAjax_b');
  let btnAjax_c = document.querySelector('.btnAjax_c');
  let btnAjax_d = document.querySelector('.btnAjax_d');
  let btnAjax_e = document.querySelector('.btnAjax_e');
  let btnAjax_f = document.querySelector('.btnAjax_f');
  let btnAjax_g = document.querySelector('.btnAjax_g');
  let btnAjax_h = document.querySelector('.btnAjax_h');
  let btnAjax_i = document.querySelector('.btnAjax_i');
  let btnAjax_j = document.querySelector('.btnAjax_j');
  let btnAjax_k = document.querySelector('.btnAjax_k');
  let btnAjax_l = document.querySelector('.btnAjax_l');
  let btnAjax_m = document.querySelector('.btnAjax_m');
  let btnAjax_n = document.querySelector('.btnAjax_n');
  let btnAjax_o = document.querySelector('.btnAjax_o');
  let btnAjax_p = document.querySelector('.btnAjax_p');
  let btnAjax_q = document.querySelector('.btnAjax_q');
  let btnAjax_r = document.querySelector('.btnAjax_r');
  let btnAjax_s = document.querySelector('.btnAjax_s');
  let btnAjax_t = document.querySelector('.btnAjax_t');
  let btnAjax_u = document.querySelector('.btnAjax_u');
  let btnAjax_v = document.querySelector('.btnAjax_v');
  let btnAjax_w = document.querySelector('.btnAjax_w');
  let btnAjax_x = document.querySelector('.btnAjax_x');
  let btnAjax_y = document.querySelector('.btnAjax_y');
  let btnAjax_z = document.querySelector('.btnAjax_z');
  
  btnAjax_a.addEventListener('click', sendData);
  btnAjax_b.addEventListener('click', sendData);
  btnAjax_c.addEventListener('click', sendData);
  btnAjax_d.addEventListener('click', sendData);
  btnAjax_e.addEventListener('click', sendData);
  btnAjax_f.addEventListener('click', sendData);
  btnAjax_g.addEventListener('click', sendData);
  btnAjax_h.addEventListener('click', sendData);
  btnAjax_i.addEventListener('click', sendData);
  btnAjax_j.addEventListener('click', sendData);
  btnAjax_k.addEventListener('click', sendData);
  btnAjax_l.addEventListener('click', sendData);
  btnAjax_m.addEventListener('click', sendData);
  btnAjax_n.addEventListener('click', sendData);
  btnAjax_o.addEventListener('click', sendData);
  btnAjax_p.addEventListener('click', sendData);
  btnAjax_q.addEventListener('click', sendData);
  btnAjax_r.addEventListener('click', sendData);
  btnAjax_s.addEventListener('click', sendData);
  btnAjax_t.addEventListener('click', sendData);
  btnAjax_u.addEventListener('click', sendData);
  btnAjax_v.addEventListener('click', sendData);
  btnAjax_w.addEventListener('click', sendData);
  btnAjax_x.addEventListener('click', sendData);
  btnAjax_y.addEventListener('click', sendData);
  btnAjax_z.addEventListener('click', sendData);
  
  function hideText() {
    let answer = "{{object.answer}}";
    console.log("answer : {{object.answer}}, answer_text : " + answer);
    const button_status_json_temp = "{{object.button_status}}";
    console.log("button_status : " + button_status_json_temp + " , type : " + typeof(button_status_json_temp));
    const button_status_json = JSON.parse(button_status_json_temp);
    console.log("button_status : " + button_status_json + " , type : " + typeof(button_status_json));
    
  }

  function sendData(event) {
    console.log("{{object.id}}, " + $(this).val());
    let pressed_value = $(this).attr('value');
    var pk = "{{object.id}}";
    // let pk = 'game_id'.replace('game_id', object.id);
    let param = {
      "pk" : pk,
      "pressed_value" : pressed_value,
    }
    console.log("pk : " + pk);
    $.ajax({
      url : "{% url 'game_button' %}",
      type : 'POST',
      headers : {
        'X-CSRFTOKEN' : '{{ csrf_token }}'
      },
      data : JSON.stringify(param),
      success:function(data){
        // console.log(data);
        hideText();
      },
      error: function(){
        alert('에러가 발생했습니다 : ' + pressed_value);
      }
    });
  }

  

</script>

</html>